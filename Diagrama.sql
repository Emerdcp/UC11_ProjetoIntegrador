-- CRIAÇÃO DO BANCO DE DADOS

CREATE DATABASE KARINAMODAS
DEFAULT CHARACTER SET utf8
DEFAULT COLLATE utf8_general_ci;

-- CRIAÇÃO DA TABELA DE USUÁRIO

CREATE OR REPLACE TABLE `CAD_USUARIO` (
	`ID_USUARIO` INTEGER NOT NULL AUTO_INCREMENT UNIQUE,
	`USU_NOME` VARCHAR(200),
	`USU_STATUS` CHAR(1),
	`USU_DATACAD` DATE,
	`USU_EMAIL` VARCHAR(255),
	`USU_SENHA` VARCHAR(255),
	`REGISTRO_STATUS` CHAR(1),
	PRIMARY KEY(`ID_USUARIO`)
);

-- CRIAÇÃO DA TABELA CADASTRO DE CLIENTE

CREATE OR REPLACE TABLE `CAD_CLIENTE` (
	`ID_CLIENTE` INTEGER NOT NULL AUTO_INCREMENT UNIQUE,
	`CLI_CEP` VARCHAR(10),
	`CLI_NOME` VARCHAR(150),
	`CLI_CPF` VARCHAR(14),
	`CLI_STATUS` CHAR(1),
	`CLI_DATACAD` DATE,
	`CLI_ENDERECO` VARCHAR(200),
	`CLI_NUMERO` VARCHAR(20),
	`CLI_COMPLEMENTO` VARCHAR(40),
	`CLI_BAIRRO` VARCHAR(80),
	`CLI_CIDADE` VARCHAR(50),
	`CLI_UF` CHAR(2),
	`CLI_TELEFONE` VARCHAR(15),
	`CLI_TELEFONE2` VARCHAR(15),
	`REGISTRO_STATUS` CHAR(1),
	PRIMARY KEY(`ID_CLIENTE`)
);

-- CRIAÇÃO DA TABELA DE CATEGORIAS

CREATE OR REPLACE TABLE `CAD_CATEGORIA` (
	`ID_CATEGORIA` INTEGER NOT NULL AUTO_INCREMENT UNIQUE,
	`CAT_DESCRICAO` VARCHAR(50),
	`CAT_STATUS` CHAR(1),
	`REGISTRO_STATUS` CHAR(1),
	PRIMARY KEY(`ID_CATEGORIA`)
);

-- CRIAÇÃO DA TABELA DE CADASTRO DE ITENS

CREATE OR REPLACE TABLE `CAD_ITEM` (
	`ID_ITEM` INTEGER NOT NULL AUTO_INCREMENT UNIQUE,
	`ITEM_FLAG` CHAR(1),
	`ITEM_CATEGORIA` INTEGER,
	`ITEM_DESCRICAO` VARCHAR(200),
	`ITEM_UNIDADE` CHAR(2),
	`ITEM_PRECOCOMPRA` DECIMAL,
	`ITEM_PRECOVENDA` DECIMAL,
	`ITEM_ESTOQUE` DECIMAL,
	`ITEM_STATUS` CHAR(1),
	`ITEM_DATACAD` DATE,
	`REGISTRO_STATUS` CHAR(1),
	PRIMARY KEY(`ID_ITEM`)
);

ALTER TABLE `CAD_ITEM`
ADD FOREIGN KEY(`ITEM_CATEGORIA`) REFERENCES `CAD_CATEGORIA`(`ID_CATEGORIA`)
ON UPDATE NO ACTION ON DELETE NO ACTION;